<html>
<head>


        <!-- Add Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<!-- Add Bootstrap JavaScript and jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
        <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script>
     
        <style>
          .error-message {
            color: red;
        }
            body {
                background-color: #fbfbfb;
              }
              @media (min-width: 991.98px) {
                main {
                  padding-left: 240px;
                }
              }
              
              /* Sidebar */
              .sidebar {
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                padding: 58px 0 0; /* Height of navbar */
                box-shadow: 0 2px 5px 0 rgb(0 0 0 / 5%), 0 2px 10px 0 rgb(0 0 0 / 5%);
                width: 240px;
                z-index: 600;
              }
              
              @media (max-width: 991.98px) {
                .sidebar {
                  width: 100%;
                }
              }
              .sidebar .active {
                border-radius: 5px;
                box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%);
              }
              
              .sidebar-sticky {
                position: relative;
                top: 0;
                height: calc(100vh - 48px);
                padding-top: 0.5rem;
                overflow-x: hidden;
                overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
              }

        </style>
    </head>


<header>
    <!-- Sidebar -->
    <nav
         id="sidebarMenu"
         class="collapse d-lg-block sidebar collapse bg-white"
         >
      <div class="position-sticky">
        <div class="list-group list-group-flush mx-3 mt-4">
          <a
             href="{% url "seller_index" %}"
             class="list-group-item list-group-item-action py-2 ripple"
             aria-current="true"
             >
            <i class="fas fa-tachometer-alt fa-fw me-3"></i
              ><span>Main dashboard</span>
          </a>
          <a
             href="{% url "add_product" %}"
             class="list-group-item list-group-item-action py-2 ripple"
             >
            <i class="fas fa-chart-area fa-fw me-3"></i
              ><span>Add Product</span>
          </a>
          {% comment %} <a
             href="#"
             class="list-group-item list-group-item-action py-2 ripple"
             ><i class="fas fa-lock fa-fw me-3"></i><span>Profile</span></a
            > {% endcomment %}
          <a
             href="{% url "seller_product_listing" %}"
             class="list-group-item list-group-item-action py-2 ripple"
             ><i class="fas fa-chart-line fa-fw me-3"></i
            ><span>View Product</span></a
            >
          <a
             href=""
             class="list-group-item list-group-item-action py-2 ripple"
             >
            <i class="fas fa-chart-pie fa-fw me-3"></i><span>SEO</span>
          </a>
          <a
             href="{% url 'seller_orders' %}"
             class="list-group-item list-group-item-action py-2 ripple"
             ><i class="fas fa-chart-bar fa-fw me-3"></i><span>Orders</span></a
            >
          {% comment %} <a
             href=""
             class="list-group-item list-group-item-action py-2 ripple"
             ><i class="fas fa-globe fa-fw me-3"></i
            ><span>International</span></a
            > {% endcomment %}
          {% comment %} <a
             href="#"
             class="list-group-item list-group-item-action py-2 ripple"
             ><i class="fas fa-building fa-fw me-3"></i
            ><span>Partners</span></a
            > {% endcomment %}
          {% comment %} <a
             href="#"
             class="list-group-item list-group-item-action py-2 ripple"
             ><i class="fas fa-calendar fa-fw me-3"></i
            ><span>Calendar</span></a
            > {% endcomment %}
          {% comment %} <a
             href="#"
             class="list-group-item list-group-item-action py-2 ripple"
             ><i class="fas fa-users fa-fw me-3"></i><span>Users</span></a
            > {% endcomment %}
          {% comment %} <a
             href="#"
             class="list-group-item list-group-item-action py-2 ripple"
             ><i class="fas fa-money-bill fa-fw me-3"></i><span>Sales</span></a
            >
        </div>
      </div>
    </nav>
    <!-- Sidebar -->
  
    <!-- Navbar -->
    <nav class="my-custom-navbar navbar navbar-expand-lg navbar-light bg-white">
        <div class="container ps-5 ms-5">
          <!-- Brand -->
          <a class="navbar-brand" href="#">My Project</a>
      
          <!-- Search form -->
          <form class="form-inline my-2 my-lg-0">
            <input
              class="form-control mr-sm-2 ps-5 ms-5"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">
              Search
            </button>
          </form>
      
          <!-- Right links -->
          <ul class="navbar-nav ml-auto">
            <!-- Notification icon -->
            <li class="nav-item">
              <a class="nav-link" href="#">
                <i class="fas fa-bell"></i>
                <span class="badge badge-danger"></span>
              </a>
            </li>
      
            <!-- User dropdown -->
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="userDropdown"
                role="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                <i class="fas fa-user"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                <a class="dropdown-item" href="{% url "seller_product_listing" %}">Register</a>
                <a class="dropdown-item" href="{% url "custom_login" %}">Login</a>
                <a class="dropdown-item" href="{% url "logout" %}">Logout</a>
                {% if user.is_authenticated %}
                    <h6 class=" text-dark" >{{user.name}}<h6>
              {% endif %}
              </div>
            </li>
          </ul>
        </div>
      </nav>
      
      
      
  </header>

  <main style="margin-top: 58px">
    <div class="container mt-2" >
        {% comment %} <h1 class="mb-4">Add a New Product</h1> {% endcomment %}
        <form method="post" enctype="multipart/form-data" action="{% url 'add_product' %}" class="ms-5">
            {% csrf_token %}
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="product_name" class="form-label">Product Name:</label>
                    <input type="text" class="form-control" id="product_name" name="product_name" required>
                    <div class="error-message" id="product_name_error"></div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="description" class="form-label">Description:</label>
                    <textarea class="form-control" id="description" name="description" rows="4" required></textarea>
                    <div class="error-message" id="product_name_error"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="image" class="form-label">Image:</label>
                    <input type="file" class="form-control" id="image" name="image" accept=".jpg, .jpeg, .png" required>
                    <div class="error-message" id="image_error"></div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="quantity4" class="form-label">Quantity:</label>
                    <div class="input-group">
                        <select class="me-3 " id="quantity-prefix" width="30px;"  name="quantity-prefix" required>
                            <option value="gms">gms</option>
                            <option value="kg">kg</option>
                        </select>
                        <input type="text" class="form-control" id="quantity" name="quantity" required>
                        <div class="error-message" id="quantity_error"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="price" class="form-label">Price:</label>
                    <div class="input-group">
                        <span class="input-group-text custom-icon">
                            <i class="fas fa-rupee-sign"></i>
                        </span>
                        <input type="text" class="form-control" id="price" name="price" required>
                        <div class="error-message" id="price_error"></div>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="brand_name" class="form-label">Brand Name:</label>
                    <input type="text" class="form-control" id="brand_name" name="brand_name" required>
                    <div class="error-message" id="brand_name_error"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="stock" class="form-label">Stock:</label>
                    <input type="number" class="form-control" id="stock" name="stock" required>
                    <div class="error-message" id="stock_error"></div>
                </div>
                {% comment %} <div class="col-md-6 mb-3">
                    <label for="batch_no" class="form-label">Batch ID:</label>
                    <input type="text" class="form-control" id="batch_no" name="batch_no" required>
                    <div class="error-message" id="product_name_error"></div>
                </div> {% endcomment %}
            </div>
           
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</main>
    <!-- Include Bootstrap 5 JavaScript and jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function() {
          const productNameInput = document.getElementById("product_name");
          const productNameError = document.getElementById("product_name_error");
          const imageInput = document.getElementById("image");
          const imageError = document.getElementById("image_error");
          const priceInput = document.getElementById("price");
          const priceError = document.getElementById("price_error");
          const quantityInput = document.getElementById("quantity");
          const quantityError = document.getElementById("quantity_error");
          const stockInput = document.getElementById("stock");
          const stockError = document.getElementById("stock_error");
          const brandNameInput = document.getElementById("brand_name");
          const brandNameError = document.getElementById("brand_name_error");

          productNameInput.addEventListener("input", function() {
              validateProductName();
          });

          imageInput.addEventListener("input", function() {
              validateImageExtension();
          });

          priceInput.addEventListener("input", function() {
              validatePrice();
          });

          quantityInput.addEventListener("input", function() {
              validateQuantity();
          });

          stockInput.addEventListener("input", function() {
              validateStock();
          });

          brandNameInput.addEventListener("input", function() {
              validateBrandName();
          });

          function showErrorMessage(inputElement, errorElement, message) {
              errorElement.textContent = message;
              errorElement.style.display = "block";
          }

          function clearErrorMessage(errorElement) {
              errorElement.textContent = "";
              errorElement.style.display = "none";
          }

          function validateProductName() {
              // Product Name validation (letters and numbers, not only spaces)
              const productNameRegex = /^(?!^\s*$)[A-Za-z0-9\s]+$/;
              if (!productNameRegex.test(productNameInput.value)) {
                  showErrorMessage(productNameInput, productNameError, "Product Name should include letters and numbers.");
              } else {
                  clearErrorMessage(productNameError);
              }
          }

          function validateImageExtension() {
              // Image file extension validation (jpg and png only)
              const imageExtensionRegex = /\.(jpg|jpeg|png)$/i;
              if (!imageExtensionRegex.test(imageInput.value)) {
                  showErrorMessage(imageInput, imageError, "Image file should have a .jpg, .jpeg, or .png extension.");
              } else {
                  clearErrorMessage(imageError);
              }
          }

          function validatePrice() {
              // Price validation (number greater than zero)
              if (isNaN(priceInput.value) || parseFloat(priceInput.value) <= 0) {
                  showErrorMessage(priceInput, priceError, "Price should be a number greater than zero.");
              } else {
                  clearErrorMessage(priceError);
              }
          }

          function validateQuantity() {
              // Quantity validation (number greater than zero, integers only)
              if (isNaN(quantityInput.value) || parseFloat(quantityInput.value) <= 0 || !Number.isInteger(parseFloat(quantityInput.value))) {
                  showErrorMessage(quantityInput, quantityError, "Quantity should be a number greater than zero and an integer.");
              } else {
                  clearErrorMessage(quantityError);
              }
          }

          function validateStock() {
              // Stock validation (number greater than zero)
              if (isNaN(stockInput.value) || parseFloat(stockInput.value) <= 0) {
                  showErrorMessage(stockInput, stockError, "Stock should be a number greater than zero.");
              } else {
                  clearErrorMessage(stockError);
              }
          }

          function validateBrandName() {
              // Brand Name validation (letters, not only spaces)
              const brandNameRegex = /^(?!^\s*$)[A-Za-z\s]+$/;
              if (!brandNameRegex.test(brandNameInput.value)) {
                  showErrorMessage(brandNameInput, brandNameError, "Brand Name should consist of letters and spaces.");
              } else {
                  clearErrorMessage(brandNameError);
              }
          }
      });
  </script>
</body>
</html>
